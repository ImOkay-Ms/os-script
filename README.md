# os-script
os 설정 script 제작 &amp; kick start 를 활용해 linux os 설치 파일 제작

## 1. 프로젝트 개요
기존에는 Linux 설치 후 SELinux, Firewall, login.defs, 사용자 계정(user ID), MegaRAID 설정 등을 수작업으로 설정해야 하는 비효율성이 존재했습니다. 이를 개선하기 위해 설정 자동화 스크립트를 사전에 준비하여, 현장에서 담당자와 협의 후 적용할 수 있도록 했습니다.
   
더 나아가, Kickstart를 활용하면 Linux 설치 과정에서 필요한 설정을 자동으로 적용할 수 있음을 알게 되었고, 이를 실제로 구현하여 설정이 포함된 커스텀 Linux OS 설치 이미지를 제작하였습니다. 이를 통해 설치 후 별도의 설정 없이 즉시 운영이 가능한 환경을 구축할 수 있었습니다.

## 2. 주요 기능
네트워크 설정: 사용자가 입력한 IP 주소와 게이트웨이 정보를 기반으로 bonding을 설정하고, 해당 네트워크 설정을 /etc/hosts에 기록하여 관리합니다.   
   
SELinux 비활성화: SELinux를 disabled로 설정하여 보안 정책을 완화하고, 운영체제 설치 후 바로 적용할 수 있도록 합니다.   
   
방화벽 비활성화: firewalld 서비스를 비활성화하여, OS 설치 후 별도로 방화벽 설정을 건드리지 않도록 합니다.   
   
로컬 레포지토리 설정: ISO 파일을 로컬 레포지토리로 복사하고, yum 레포지토리 설정을 통해 오프라인 환경에서 패키지 설치를 지원합니다.   
   
로그 기록 주기 변경: sysstat 패키지를 이용해 시스템 로그 기록 주기를 기본 10분에서 2분으로 변경합니다.   
   
SSH 포트 변경: 기본 SSH 포트를 22에서 20022로 변경하여 보안성을 강화합니다.   
   
NTP 서버 설정: 네트워크 대역에 맞는 NTP 서버를 자동으로 설정하여 서버 시간이 정확하게 유지되도록 합니다.   
   
사용자 생성: rt 사용자 계정을 확인하고, 없을 경우 생성하여 시스템 사용자 관리의 편리함을 제공합니다.   
   
하드웨어 관리 도구 설치: MegaRAID Storage Manager, SSDCLI 및 LXCE OneCLI 툴을 설치하여 하드웨어 관리 기능을 추가합니다.   
   

## 3. 기술 스택
Bash: Linux 시스템에서 명령어를 자동으로 실행하기 위한 스크립트 언어.
   
nmcli: NetworkManager 명령어로 네트워크 설정을 제어.
   
systemctl: 시스템 서비스 관리 도구로, firewalld 및 chronyd 서비스를 제어.
   
rsync: 파일을 복사하고 동기화하는 데 사용.
   
rpm: Linux 패키지 설치 도구로, MegaRAID 및 SSDCLI 패키지 설치.
   
sed, awk: 텍스트 파일 내의 내용을 수정하거나 대체하는 도구.
   
dnf: 최신 RHEL 기반 시스템에서 패키지 관리 도구.
   

## 4. 설치 및 실행 방법
1️⃣ 스크립트 다운로드: 제공된 스크립트를 서버에 저장합니다.
   
2️⃣ 스크립트 실행 권한 부여: chmod +x script_name.sh
   
3️⃣ 스크립트 실행 : ./script_name.sh
   
4️⃣ 스크립트 실행 중 : 사용자가 요구하는 IP 주소, 게이트웨이, 호스트명 등을 입력합니다.
   
5️⃣ 자동화 작업: 스크립트는 네트워크 설정, SELinux 비활성화, 방화벽 비활성화, 로컬 레포지토리 설정, 패키지 설치 등을 자동으로 처리합니다.
   
6️⃣ 종료 후 확인: 스크립트가 끝난 후, 모든 설정이 자동으로 적용된지 확인합니다.

   
## 5. 발전 가능성 및 향후 개선점
에러 처리 개선: 스크립트 실행 중 발생할 수 있는 다양한 에러를 보다 구체적으로 처리하여 안정성을 높일 수 있습니다.
   
다양한 배포 환경 지원: 현재는 RHEL 8.x 기반으로 작성되었지만, 다른 Linux 배포판에 대해서도 호환되도록 개선할 수 있습니다.
   
패키지 업데이트 자동화: 스크립트에 패키지 업데이트 기능을 추가하여 최신 버전의 소프트웨어가 자동으로 설치될 수 있도록 개선할 수 있습니다.
   


## 6. 참고 자료
참고자료 및 출처: 다양한 온라인 자료를 참고헀습니다.
